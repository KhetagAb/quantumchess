[Терминология]
Тип фигуры - [пешка, конь, ...].
Тип хода - [квантовый/обычный].
Легальность слоя - [легален/нелегален] - характеристика доски, в которой совершается ход с заранее заданого сектора в другой заранее заданный сектор (заданой фигурой).
Легальность хода - наличие хотя бы одного легального слоя.
Сектор - ячейка (i, j) доски [8 x 8].
Плитка - отображаемое выделение сектора.
Слой - доска [8 x 8] из массива данных [8 x 8 x N], где N - кол-во досок.
Столб - один сектор (i, j) по всем слоям.
Вес слоя - [int] кол-во дубликатов слоёв, включая сам слой.


[Заметки]
1. Делать модельки нужно с учетом шейдеров, в которых можно красиво реализовывать эффекты.
2. В скриптах выбора хода и подобных выполняется графическое отображение. Не совсем хорошо.
Хорошо бы вынести его в отдельный параллельный скрипт или присвоить его работу общему скрипту отображения.

Формальная структура.
0. Отображение квантового хода:
	1) В виде каркаса фигуры и процентом её заполненности.
	2) В виде текстового указателя над каждой фигурой.
	3) В виде круглой фишки под каждой фигурой с сектором - долей её существования.
	   Предпочтителен №1, но №2 будет реализован в первую очередь для отладки.

1. Принцип хранения и отображения данных и состояния игры.
	   Хранение.
	1) Все фигуры одного типа одного игрока имеют один ID (int.), но разные GameObject'ы. 
	   	Стоящие в разных слоях: 
		а) на одном секторе относятся к одному GameObject'у;
		б) в разных секторах относятся к разным.
	2) Массив №1 [8 x 8]: 
		Хранит объекты (GameObject'ы), каждый из которых явно присутсвует в
	   	игровом мире в виде модели фигуры. Является хранилищем объектов.
	   	Каждому объекту присваивается ID (int), относящий его к типу фигуры определенного игрока.
	   	ID между игроками разный.
	2) Массив №2 [8 x 8]: 
		Хранит (ID, K)/null в каждом секторе (i, j), где K [int] - кол-во фиугр в слое по сектору (i, j).
		Если T - это кол-во фигур Non-Null в секторе (i, j).
	3) Массив №3 [N x 8 x 8]: 
		Реализован в виде массива [N] классов Slayer, который описывается массивом [8 x 8] и коэффицентом Y [int] - кол-вом таких досок.
		Хранит ID/null в каждой ячейке (k, i, j), где k - порядковый номер доски.
	   	Примечание: в промежутках между ходами каждый столб может содержать ТОЛЬКО null и/или один ID. Другими словами, (кол-во Not-Null элементов) = (кол-во ID).
	4) Массив №2 пересчитывается через Массив №3.

	   Отображение.	
	5) Отображение фигур на доске строится через перемещение GameObject'ов в Массиве №1 по данным, переданным скрипту-обработчику и Массиву №2.

2. Условие легальности слоя. 
	1) Слой легален, если выполняются все пункты:
		a) Фигура присутствует на начальной клетке.
		b) Фигура может дойти до конечной клетки следуя правилам своего движения (независимо от типа хода)
		c) На конечной клетке нет фигуры того же цвета (для квантового хода - нет фигуры)
		d) На пути следования фигуры нет других фигур.
	2) При невыполнении хотя бы одного из пунктов - слой нелегален.
	3) Особенность движение пешки.
		- Только обычным ходом.
		- Диагональный ход только если осуществляется взятие.
	4) Рокировка.
		- Только обычным ходом.
		- Только если ни король, ни ладья не двигались.
		- Только если между королем и ладьей нет других фигур.

3. Структура хода.
	1) Начало хода.
		(запуск скрипта "выбор фигуры"):
		- начало исполнения скриптовой части начала хода.
		- аналогичен первому ходу при запуске игры.
		- идёт сразу же после конца предыдущего хода.

	2) Выбор сектора.
		- отображение плитки выбора на доске.
		- запоминание координаты выбора и проверка на соотетствие фигуры ходу текущего игрока.
		(переадача управления "выбор фигуры" -> "выбор обычного хода")

	3) Выбор обычного хода.
		(запуск скрипта "выбор обычного хода")
		- отображение плитки выбора на доске (отличной от плитки скрипта "выбор фигуры").
		- отображение плиток возможных ходов: объединение возможных ходов по всем легальным слоям - с учётом клеток, на которых стоят вражеские фигуры. (квантовый ход = false)
			3.1) Отмена выбора фигуры 
			(передача управления "выбор обычного хода" -> "выбор фигуры" и переход к пункту 1)
			3.2) Переход к квантовому ходу
			(передача управления "выбор обычного хода" -> "выбор квантового хода" и переход к пункту 4)
		- фиксирование конечого сектора хода
		- запоминание координаты сектора фигуры и конечного сектора хода.
		(вызов процедуры "обычный ход")
		(передача управления "выбор обычного хода" -> "отображение хода")

	4) Выбор квантового хода.
		(запуск скрипта "выбор квантового хода")
		- отображение плитки выбора на доске (отличной от плитки скрипта "выбор фигуры" и "выбор обычного хода").
		- отображение плиток возможных ходов: объединение возможных ходов по всем легальным слоям - без клеток, на которых стоят вражеские фигуры. (квантовый ход = true)
		- фиксирование промежуточго сектора хода.
		- обновление плиток возможных ходов с промежуточного сектора: объединение возможных ходов по всем легальным слоям - без клеток, на которых стоят вражеские фигуры. (квантовый ход = true)	
			4.1) Отмена квантового хода
			(передача управления "выбор квантового хода" -> "выбор обычного хода" и переход к пункту 3)
		- фиксирование конечного сектора хода.
		- запоминание координаты сектора фигуры, промежуточного сектора и конечного сектора хода.
		(вызов процедуры "квантовый ход")
		(передача управления "выбор квантового хода" -> "отображение хода")
	
	5) Ход фигуры (см. раздел 4)
	
	6) Отображение хода.
		(запуск скрипта "отображение хода")
		- получение Массива №2 и проверка на удаление объекта в случае K = 0.
		- получение списка всех добавлений/удалений/перемещений
		- формирование плана движения
		- запуск скрипта и выполнения отображения

	7) Конец хода.
		(запуск процедуры "сброс параметров") // Надо проработать
		(передача управления "отображение хода" -> "выбор фигуры")

4. Ход фигуры.
	1) Обычный ход.
		(запуск процедуры "обычный ход")
		- получение начального и конечного секторов хода.
		- перемещение фигуры из начального сектора в конечный в каждом легальном слое.
		[дополнительно] - реализация взаимодействия со скриптом отображения хода
		(запуск процедуры "устранения коллизий")
		(запуск процедуры "пересчет суперпозиции"
		(завершение процедуры "обычный ход")
	2) Ход фигуры квантовый.
		(запуск процедуры "квантовый ход")
		- получение начального и конечного секторов хода.
		- каждый нелегальный слой увеличивает свой коэффицент Y в 2 раза.
		- каждый легальный слой дублируется, в каждом дублированном слое ID с начального сектора переставляется в промежуточный сектор.
		[дополнительно] - реализация взаимодействия со скриптом отображения хода
		(запуск процедуры "устранения коллизий")
		(запуск процедуры "пересчет суперпозиции"
		(завершение процедуры "квантовый ход")
	3) Устранение коллизий.
		(запуск процедуры "устранение коллизий")
		- проходим по всем столбам Массива №3. Для каждого столба устанавливаем критерий коллизии: 
			- Если в рамках одного столба больше одного (два) уникального ID - столб попадает под критерий коллизии.
			- По ходу просчета считаем кол-во ID1: N1 и ID2: N2 с УЧЁТОМ ВЕСА КАЖДОГО СЛОЯ.
		- В случае выполнения критерия коллизии с учётом вероятности [1 - N1/(N1 + N2)] удаляем доски с ID1.
		(завершение процедуру "устранение коллизий")
	4) Пересчет суперпозиции.
		(запуск процедуры "пересчет суперпозиции")
		- пересчитываем массив №2
		(завершение процедуры "пересчет суперпозиции")

5. Принцип проверки слоя на легальность и объединение допустимых ходов по всем легальным слоям.
	- проход по всем слоям поочередно и заполнение SortedSet<Vector2Int> или List<Vector2Int>.
	- проверка соответствие полученного списка на тип хода (квантовый ход = false/true) через проверку K = N.	

Программная структура.
// Сырое
// Сырое